(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["desktop"],{4280:function(e,t,i){"use strict";var s=i("b40c"),n=i.n(s);n.a},"630f":function(e,t,i){},"6bad":function(e,t,i){"use strict";var s=i("630f"),n=i.n(s);n.a},"6d81":function(e,t,i){"use strict";var s=i("ef82"),n=i.n(s);n.a},b40c:function(e,t,i){},bd58:function(e,t,i){"use strict";var s=i("be7d"),n=i.n(s);n.a},be7d:function(e,t,i){},cc15:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"desktop"},[e._l(e.panels,(function(e){return i("app-tile",{key:e.id,attrs:{panel:e}})})),i("transition",{attrs:{name:"pop",mode:"out-in"}},[e.deleted.length?i("app-restore-panel"):e._e()],1)],2)},n=[],a=i("d4ec"),r=i("bee2"),o=i("262e"),l=i("2caf"),c=i("9ab4"),d=i("60a3"),p=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("transition",{attrs:{name:"remove",mode:"out-in"}},[i("div",{ref:"tile",class:e.tileClasses,style:{zIndex:e.panel.zIndex},attrs:{id:"panel-"+e.panel.id,draggable:"true"},on:{dragstart:e.dragStart,drag:e.drag,dragend:e.dragEnd,click:e.toggleActive,mousedown:e.showOnTop}},[i("header",[e._v(" Tile "+e._s(e.panel.id)+" "),i("span",{staticClass:"button-remove",attrs:{title:"Remove tile"},on:{click:function(t){return e.removeTile(e.panel.id)}}},[e._v("Ã—")])]),i("div",{staticClass:"panel-content"},[e._v(" Lorem ipsum dolor sit amet consectetur adipisicing elit. Excepturi iusto id alias illo numquam ut delectus, sit, non harum quas molestias temporibus ")]),e.panel.active?i("div",e._l(e.pins,(function(t){return i("resize-pin",{key:t,attrs:{position:t,panelId:e.panel.id,tile:e.$refs.tile}})})),1):e._e()])])},u=[],h=i("5530"),f=function e(t,i){Object(a["a"])(this,e),this.x=t,this.y=i},v=i("9885"),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{class:"resize-pin "+e.position,attrs:{draggable:"true"},on:{dragstart:e.resizeStart,dragend:e.resizeEnd}})},b=[],y=function(e){Object(o["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(a["a"])(this,i),e=t.apply(this,arguments),e.startCoords=new f(0,0),e}return Object(r["a"])(i,[{key:"resizeStart",value:function(e){this.startCoords=new f(e.pageX,e.pageY),this.$store.dispatch("toggleResize",!0)}},{key:"resizeEnd",value:function(e){var t=this,i=this.calculateShift(e.pageX,e.pageY);this.tile.style.width=this.tile.clientWidth+i.x+"px",this.tile.style.height=this.tile.clientHeight+i.y+"px",this.$store.dispatch("saveTileSize",{id:this.panelId,width:this.tile.clientWidth,height:this.tile.clientHeight}),setTimeout((function(){t.$store.dispatch("toggleResize",!1)}),0)}},{key:"calculateShift",value:function(e,t){switch(this.position){case"bottom-left":return new f(this.startCoords.x-e,t-this.startCoords.y);case"bottom-right":return new f(e-this.startCoords.x,t-this.startCoords.y);case"bottom-middle":return new f(0,t-this.startCoords.y);case"left":return new f(this.startCoords.x-e,0);case"right":return new f(e-this.startCoords.x,0);default:return new f(0,0)}}}]),i}(d["c"]);Object(c["a"])([Object(d["b"])({required:!0})],y.prototype,"panelId",void 0),Object(c["a"])([Object(d["b"])({required:!0})],y.prototype,"position",void 0),Object(c["a"])([Object(d["b"])({required:!0})],y.prototype,"tile",void 0),y=Object(c["a"])([d["a"]],y);var m=y,O=m,j=(i("bd58"),i("2877")),k=Object(j["a"])(O,g,b,!1,null,"0ffa1366",null),x=k.exports,w=function(e){Object(o["a"])(i,e);var t=Object(l["a"])(i);function i(){var e;return Object(a["a"])(this,i),e=t.apply(this,arguments),e.pageCoords=new f(0,0),e.pins=v["e"],e}return Object(r["a"])(i,[{key:"mounted",value:function(){document.addEventListener("click",this.deselect),this.loadTileParams()}},{key:"loadTileParams",value:function(){var e=this.$refs.tile;e.style.left=this.panel.posX+"px",e.style.top=this.panel.posY+"px",e.style.width=this.panel.width+"px",e.style.height=this.panel.height+"px",e.style.zIndex=this.panel.zIndex}},{key:"beforeDestroy",value:function(){document.removeEventListener("click",this.deselect)}},{key:"deselect",value:function(e){e.path.length<8&&this.$store.dispatch("cancelSelection")}},{key:"toggleActive",value:function(){this.$store.dispatch("toggleActive",this.panel.id)}},{key:"showOnTop",value:function(){this.$store.dispatch("showOnTop",this.panel.id)}},{key:"isOffPageLimits",value:function(e,t){return e<0||t<0}},{key:"dragStart",value:function(e){this.pageCoords=new f(e.pageX,e.pageY)}},{key:"drag",value:function(e){if(!this.resizing){var t=new f(e.pageX-this.pageCoords.x,e.pageY-this.pageCoords.y);e.target.offsetLeft+t.x<0||e.target.offsetTop+t.y<0||(t.x%v["b"]==0&&(e.target.style.left=this.panel.posX+t.x+"px"),t.y%v["b"]==0&&(e.target.style.top=this.panel.posY+t.y+"px"))}}},{key:"dragEnd",value:function(e){if(!this.resizing){var t=new f(e.pageX-this.pageCoords.x,e.pageY-this.pageCoords.y);if(!(e.target.offsetLeft+t.x<0||e.target.offsetTop+t.y<0)){t.x%v["b"]==0&&(e.target.style.left=this.panel.posX+t.x+"px"),t.y%v["b"]==0&&(e.target.style.top=this.panel.posY+t.y+"px"),(e.target.offsetLeft<0||e.target.offsetTop<0)&&this.$store.dispatch("returnTile",this.panel.id);var i=new f(parseInt(e.target.style.left),parseInt(e.target.style.top));this.$store.dispatch("saveTileCoords",Object(h["a"])({id:this.panel.id},i))}}}},{key:"removeTile",value:function(e){this.$store.dispatch("removeTile",e)}},{key:"tileClasses",get:function(){var e=this.panel.active?"panel_active":"panel_inactive";return"panel ".concat(e)}},{key:"resizing",get:function(){return this.$store.getters.resizing}}]),i}(d["c"]);Object(c["a"])([Object(d["b"])()],w.prototype,"panel",void 0),w=Object(c["a"])([Object(d["a"])({components:{ResizePin:x}})],w);var _=w,C=_,$=(i("6bad"),Object(j["a"])(C,p,u,!1,null,"52bf4e51",null)),T=$.exports,z=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"restore-panel"},[i("p",{staticClass:"restore-panel__text"},[e._v("Restore recently removed")]),i("div",{staticClass:"restore-panel__removed"},e._l(e.removed,(function(t){return i("button",{key:t.id,staticClass:"removed-panel",on:{click:function(i){return e.restoreTile(t.id)}}},[e._v("Tile "+e._s(e.tileId(t.id)))])})),0)])},E=[],I=(i("7db0"),function(e){Object(o["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(a["a"])(this,i),t.apply(this,arguments)}return Object(r["a"])(i,[{key:"restoreTile",value:function(e){this.$store.dispatch("restoreTile",e)}},{key:"removed",get:function(){return this.$store.getters.deleted}},{key:"tileId",get:function(){var e=this;return function(t){var i=e.$store.getters.deleted.find((function(e){return e.id==t}));return i.id}}}]),i}(d["c"]));I=Object(c["a"])([d["a"]],I);var S=I,X=S,Y=(i("6d81"),Object(j["a"])(X,z,E,!1,null,"02aa06eb",null)),L=Y.exports,P=function(e){Object(o["a"])(i,e);var t=Object(l["a"])(i);function i(){return Object(a["a"])(this,i),t.apply(this,arguments)}return Object(r["a"])(i,[{key:"created",value:function(){this.$store.dispatch("loadPanels"),this.$store.dispatch("loadDeleted")}},{key:"mounted",value:function(){this.$store.dispatch("cancelSelection")}},{key:"panels",get:function(){return this.$store.getters.panels}},{key:"deleted",get:function(){return this.$store.getters.deleted}}]),i}(d["c"]);P=Object(c["a"])([Object(d["a"])({name:"Desktop",components:{AppTile:T,AppRestorePanel:L}})],P);var R=P,q=R,A=(i("4280"),Object(j["a"])(q,s,n,!1,null,null,null));t["default"]=A.exports},ef82:function(e,t,i){}}]);
//# sourceMappingURL=desktop.affb2510.js.map